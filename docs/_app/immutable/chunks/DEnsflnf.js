import{Q as L,E as x,a6 as z,a7 as B,a8 as I,b as M,a9 as P,J as R,aa as $,q as j,ab as h}from"./D4A1eyVn.js";import{a as G}from"./B8ZnoSoS.js";const J=()=>performance.now(),u={tick:r=>requestAnimationFrame(r),now:()=>J(),tasks:new Set};function q(){const r=u.now();u.tasks.forEach(t=>{t.c(r)||(u.tasks.delete(t),t.f())}),u.tasks.size!==0&&u.tick(q)}function K(r){let t;return u.tasks.size===0&&u.tick(q),{promise:new Promise(i=>{u.tasks.add(t={c:r,f:i})}),abort(){u.tasks.delete(t)}}}function E(r,t){R(()=>{r.dispatchEvent(new CustomEvent(t))})}function Q(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function O(r){const t={},i=r.split(";");for(const e of i){const[n,c]=e.split(":");if(!n||c===void 0)break;const o=Q(n.trim());t[o]=c.trim()}return t}const U=r=>r;function V(r,t,i,e){var n=(r&P)!==0,c="both",o,w=t.inert,b=t.style.overflow,s,f;function p(){return R(()=>o??=i()(t,e?.()??{},{direction:c}))}var _={is_global:n,in(){t.inert=w,E(t,"introstart"),s=T(t,p(),f,1,()=>{E(t,"introend"),s?.abort(),s=o=void 0,t.style.overflow=b})},out(d){t.inert=!0,E(t,"outrostart"),f=T(t,p(),s,0,()=>{E(t,"outroend"),d?.()})},stop:()=>{s?.abort(),f?.abort()}},l=L;if((l.nodes.t??=[]).push(_),G){var v=n;if(!v){for(var a=l.parent;a&&(a.f&x)!==0;)for(;(a=a.parent)&&(a.f&z)===0;);v=!a||(a.f&B)!==0}v&&I(()=>{M(()=>_.in())})}}function T(r,t,i,e,n){var c=e===1;if($(t)){var o,w=!1;return j(()=>{if(!w){var d=t({direction:c?"in":"out"});o=T(r,d,i,e,n)}}),{abort:()=>{w=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(i?.deactivate(),!t?.duration)return n(),{abort:h,deactivate:h,reset:h,t:()=>e};const{delay:b=0,css:s,tick:f,easing:p=U}=t;var _=[];if(c&&i===void 0&&(f&&f(0,1),s)){var l=O(s(0,1));_.push(l,l)}var v=()=>1-e,a=r.animate(_,{duration:b,fill:"forwards"});return a.onfinish=()=>{a.cancel();var d=i?.t()??1-e;i?.abort();var y=e-d,k=t.duration*Math.abs(y),g=[];if(k>0){var C=!1;if(s)for(var A=Math.ceil(k/16.666666666666668),F=0;F<=A;F+=1){var N=d+y*p(F/A),S=O(s(N,1-N));g.push(S),C||=S.overflow==="hidden"}C&&(r.style.overflow="hidden"),v=()=>{var m=a.currentTime;return d+y*p(m/k)},f&&K(()=>{if(a.playState!=="running")return!1;var m=v();return f(m,1-m),!0})}a=r.animate(g,{duration:k,fill:"forwards"}),a.onfinish=()=>{v=()=>e,f?.(e,1-e),n()}},{abort:()=>{a&&(a.cancel(),a.effect=null,a.onfinish=h)},deactivate:()=>{n=h},reset:()=>{e===0&&f?.(1,0)},t:()=>v()}}const W=r=>r;function X(r,{delay:t=0,duration:i=400,easing:e=W}={}){const n=+getComputedStyle(r).opacity;return{delay:t,duration:i,easing:e,css:c=>`opacity: ${c*n}`}}export{X as f,V as t};
